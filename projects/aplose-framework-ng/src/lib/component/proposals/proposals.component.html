@if(!(proposals$ | async) || (proposals$ | async)?.length! < 1){
    <ion-text>
        {{'aplose-framework-ng.proposals-component.ion-text.you-not-have-proposals' | i18n:'Vous n\'avez pas de devis pour le moment' | async}}
    </ion-text>
}
@else {
    <ion-grid>
        <ion-row class="header">
          <ion-col>
            <ion-text>
              {{'aplose-framework-ng.proposals-component.ion-grid-header.proposal-reference' | i18n:'Réf.' | async}}
            </ion-text>
          </ion-col>
          <ion-col>
            <ion-text>
              {{'aplose-framework-ng.proposals-component.ion-grid-header.proposal-client-reference' | i18n:'Nom' | async}}
            </ion-text>
          </ion-col>
          <ion-col>
            <ion-text>
              {{'aplose-framework-ng.proposals-component.ion-grid-header.proposal-validation-date' | i18n:'Date' | async}}
            </ion-text>
          </ion-col>
          <ion-col>
            <ion-text>
              {{'aplose-framework-ng.proposals-component.ion-grid-header.proposal-ht-total' | i18n:'Tot. HT' | async}}
            </ion-text>
          </ion-col>
          <ion-col>
            <ion-text>
              {{'aplose-framework-ng.proposals-component.ion-grid-header.proposal-tva' | i18n:'Tot.TVA' | async}}
            </ion-text>
          </ion-col>
          <ion-col>
            <ion-text>
              {{'aplose-framework-ng.proposals-component.ion-grid-header.proposal-ttc-total' | i18n:'Tot. TTC' | async}}
            </ion-text>
          </ion-col>
          <ion-col size="1">
          </ion-col>
        </ion-row>
    
        @for (proposal of (proposals$ | async); track $index) {
          <ion-row>
            <ion-col>
              <ion-text>{{proposal.ref}}</ion-text>
            </ion-col>
            <ion-col>
              <ion-text>{{proposal.ref_client}}</ion-text>
            </ion-col>
            <ion-col>
              <ion-text>{{ 1000 * proposal.date_validation | date:'dd/MM/yyyy H:mm' }}</ion-text>
            </ion-col>
            <ion-col>
              <ion-text>{{proposal.total_ht}} €</ion-text>
            </ion-col>
            <ion-col>
              <ion-text>{{proposal.total_tva}} €</ion-text>
            </ion-col>
            <ion-col>
              <ion-text>{{proposal.total_ttc}} €</ion-text>
            </ion-col>
            <ion-col size="1" class="ion-text-center">
              <ion-button fill="clear" size="small" (click)="downloadProposal(proposal)">
                <ion-icon name="download-outline" slot="icon-only"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        }
    
      </ion-grid>
}